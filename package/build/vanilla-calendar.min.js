/*! name: @uvarov.frontend/vanilla-calendar | url: https://github.com/uvarov-frontend/vanilla-calendar */
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?module.exports=t():"function"==typeof define&&define.amd?define(t):(e="undefined"!=typeof globalThis?globalThis:e||self).VanillaCalendar=t()}(this,(function(){"use strict";var e=Object.defineProperty,t=Object.getOwnPropertySymbols,l=Object.prototype.hasOwnProperty,n=Object.prototype.propertyIsEnumerable,s=(t,l,n)=>l in t?e(t,l,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[l]=n,a=(e,t,l)=>(s(e,"symbol"!=typeof t?t+"":t,l),l);const i=e=>`${e.getFullYear()}-${String(e.getMonth()+1).padStart(2,"0")}-${String(e.getDate()).padStart(2,"0")}`,d=e=>{const t=[];return e.forEach((e=>{e.match(/^(\d{4}-\d{2}-\d{2})$/g)?t.push(e):e.replace(/(\d{4}-\d{2}-\d{2}).*?(\d{4}-\d{2}-\d{2})/g,((e,l,n)=>{const s=new Date(`${l}T00:00:00`),a=new Date(`${n}T00:00:00`),d=new Date(s.getTime());for(;d<=a;d.setDate(d.getDate()+1))t.push(i(d));return e}))})),t},r=e=>e?{0:"12",13:"01",14:"02",15:"03",16:"04",17:"05",18:"06",19:"07",20:"08",21:"09",22:"10",23:"11"}[Number(e)]||String(e):"",o=e=>{var t,l;e.rangeMin=e.settings.range.min,e.rangeMax=e.settings.range.max,e.rangeDisabled=e.settings.range.disabled?d([...e.settings.range.disabled]):[],e.rangeEnabled=e.settings.range.enabled?d([...e.settings.range.enabled]):[],e.selectedDates=e.settings.selected.dates?d([...e.settings.selected.dates]):[],e.selectedHolidays=e.settings.selected.holidays?d([...e.settings.selected.holidays]):[],e.settings.range.disablePast&&!e.settings.range.disableAllDays&&new Date(`${e.settings.range.min}T00:00:00`)<e.date.today&&(e.rangeMin=i(e.date.today)),e.settings.range.disableAllDays&&(e.rangeMin=i(e.date.today),e.rangeMax=i(e.date.today),null==(t=e.rangeDisabled)||t.push(i(e.date.today))),e.rangeEnabled&&e.rangeEnabled.sort(((e,t)=>+new Date(e)-+new Date(t))),(null==(l=e.rangeEnabled)?void 0:l[0])&&e.settings.range.disableAllDays&&(e.rangeMin=e.rangeEnabled[0],e.rangeMax=e.rangeEnabled[e.rangeEnabled.length-1]);const n=new Date(`${e.rangeMin}T00:00:00`),s=new Date(`${e.rangeMax}T00:00:00`);n.setDate(n.getDate()-1),s.setDate(s.getDate()+1),e.rangeDisabled.push(i(n)),e.rangeDisabled.push(i(s)),null!==e.settings.selected.month&&e.settings.selected.month>=0&&e.settings.selected.month<12?e.selectedMonth=e.settings.selected.month:e.selectedMonth=e.date.today.getMonth(),null!==e.settings.selected.year&&e.settings.selected.year>=0&&e.settings.selected.year<=9999?e.selectedYear=e.settings.selected.year:e.selectedYear=e.date.today.getFullYear(),e.viewYear=e.selectedYear,e.dateMin=e.settings.visibility.disabled?new Date(`${e.date.min}T00:00:00`):new Date(`${e.rangeMin}T00:00:00`),e.dateMax=e.settings.visibility.disabled?new Date(`${e.date.max}T00:00:00`):new Date(`${e.rangeMax}T00:00:00`);const a=!0===e.settings.selection.time||12===e.settings.selection.time;if(a||24===e.settings.selection.time){if(e.userTime=!1,"string"==typeof e.settings.selected.time){const t=a?/^([0-9]|0[1-9]|1[0-2]):([0-5][0-9])|(AM|PM)/g:/^([0-1]?[0-9]|2[0-3]):([0-5][0-9])/g;e.settings.selected.time.replace(t,((t,l,n,s)=>(l&&n&&(e.userTime=!0,e.selectedHours=l,e.selectedMinutes=n),s&&a?e.selectedKeeping=s:a&&(e.selectedKeeping="AM"),"")))}!e.userTime&&a?(e.selectedHours=r(String(e.date.today.getHours())),e.selectedMinutes=String(e.date.today.getMinutes()),e.selectedKeeping=Number(e.date.today.getHours())>=12?"PM":"AM"):e.userTime||(e.selectedHours=String(e.date.today.getHours()),e.selectedMinutes=String(e.date.today.getMinutes())),e.selectedHours=Number(e.selectedHours)<10?`0${Number(e.selectedHours)}`:`${e.selectedHours}`,e.selectedMinutes=Number(e.selectedMinutes)<10?`0${Number(e.selectedMinutes)}`:`${e.selectedMinutes}`,e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`}else e.settings.selection.time&&(e.settings.selection.time=!1,console.error("The value of the time property can be: false, true, 12 or 24."));"multiple"===e.type&&(1===e.months?(console.warn("The value of the «months» parameter cannot be less than «2», the minimum available value will be initialized."),e.correctMonths=2):e.months>12?(console.warn("The value of the «months» parameter cannot be greater than «12», the maximum available value will be initialized."),e.correctMonths=12):e.correctMonths=e.months)},c=e=>{if(!["default","multiple","year"].includes(e.currentType))return;const t=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowPrev}`),l=e.HTMLElement.querySelector(`.${e.CSSClasses.arrowNext}`);if(!t||!l)return;"default"!==e.currentType&&"multiple"!==e.currentType||(()=>{if(!e.dateMin||!e.dateMax)return;const n=new Date(`${i(new Date(e.selectedYear,e.selectedMonth,1))}T00:00:00`),s=new Date(n.getTime());n.setMonth(n.getMonth()-e.jumpMonths),s.setMonth(s.getMonth()+e.jumpMonths),!e.settings.selection.month||n.getFullYear()<e.dateMin.getFullYear()||n.getFullYear()===e.dateMin.getFullYear()&&n.getMonth()<e.dateMin.getMonth()?t.style.visibility="hidden":t.style.visibility="",!e.settings.selection.month||s.getFullYear()>e.dateMax.getFullYear()||s.getFullYear()===e.dateMax.getFullYear()&&s.getMonth()>e.dateMax.getMonth()?l.style.visibility="hidden":l.style.visibility=""})(),"year"===e.currentType&&e.dateMin&&e.dateMax&&void 0!==e.viewYear&&(e.dateMin.getFullYear()&&e.viewYear-7<=e.dateMin.getFullYear()?t.style.visibility="hidden":t.style.visibility="",e.dateMax.getFullYear()&&e.viewYear+7>=e.dateMax.getFullYear()?l.style.visibility="hidden":l.style.visibility="")},u=(e,t)=>{if(!e)return null;const l=new Date(`${e}T00:00:00`).getDate(),n=new Date(`${e}T00:00:00`).getMonth(),s=new Date(`${e}T00:00:00`).getFullYear(),a=new Date(s,n,l),i=t?a.getDay()||7:a.getDay();a.setDate(a.getDate()+4-i);const d=new Date(a.getFullYear(),0,1);return{year:s,week:Math.ceil(((+a-+d)/864e5+1)/7)}},m=e=>{var t,l;const n=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.days}`),s=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.weekNumbers}`),a=new Date(e.selectedYear,e.selectedMonth,1),d=document.createElement("div"),r=document.createElement("button");d.className=e.CSSClasses.day,r.className=e.CSSClasses.dayBtn,r.type="button",null==(t=e.selectedDates)||t.sort(((e,t)=>+new Date(e)-+new Date(t))),n.forEach(((t,l)=>{const o=new Date(a.setMonth(e.selectedMonth+l)).getMonth(),c=new Date(a.setFullYear(e.selectedYear,e.selectedMonth+l)).getFullYear(),m=new Date(c,o,1),g=new Date(c,o+1,0).getDate();let v=Number(m.getDay());e.settings.iso8601&&(v=Number((0!==m.getDay()?m.getDay():7)-1)),e.settings.selection.day&&["single","multiple","multiple-ranged"].includes(e.settings.selection.day)&&n[l].classList.add(e.CSSClasses.daysSelecting),n[l].innerHTML="";const y=(t,s,a,i,o)=>{var m,g,v,y,h,S,M,p,C;const b=d.cloneNode(!0),D=r.cloneNode(!0);if(o&&D.classList.add(o),D.innerText=t,D.dataset.calendarDay=a,e.settings.visibility.weekNumbers){const t=u(a,e.settings.iso8601);if(!t)return;D.dataset.calendarWeekNumber=`${t.week}`}(null==(m=e.rangeEnabled)?void 0:m[0])&&e.settings.range.disableAllDays&&!(null==(g=e.rangeDisabled)?void 0:g.includes(a))&&(null==(v=e.rangeDisabled)||v.push(a)),(null==(y=e.rangeEnabled)?void 0:y[0])&&(null==(h=e.rangeDisabled)?void 0:h.includes(a))&&(e.rangeDisabled=null==(S=e.rangeDisabled)?void 0:S.filter((t=>{var l;return!(null==(l=e.rangeEnabled)?void 0:l.includes(t))}))),(null==(M=e.settings.range.disableWeekday)?void 0:M.includes(s))&&!(null==(p=e.rangeDisabled)?void 0:p.includes(a))&&(null==(C=e.rangeDisabled)||C.push(a)),((t,l,n,s,a)=>{(e.rangeMin>s||e.rangeMax<s)&&(l.classList.add(e.CSSClasses.dayBtnDisabled),l.tabIndex=-1),!e.settings.visibility.weekend||0!==n&&6!==n||l.classList.add(e.CSSClasses.dayBtnWeekend),Array.isArray(e.selectedHolidays)&&e.selectedHolidays.forEach((t=>{t===s&&l.classList.add(e.CSSClasses.dayBtnHoliday)}));let i=e.date.today.getDate(),d=e.date.today.getMonth()+1;i=i<10?`0${i}`:i,d=d<10?`0${d}`:d;const r=`${e.date.today.getFullYear()}-${d}-${i}`;e.settings.visibility.today&&l.dataset.calendarDay===r&&l.classList.add(e.CSSClasses.dayBtnToday),e.selectedDates&&0===e.selectedDates.indexOf(s)?("multiple-ranged"===e.settings.selection.day&&e.selectedDates.length>1?t.classList.add(e.CSSClasses.daySelectedFirst):t.classList.add(e.CSSClasses.daySelected),l.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates[0]&&e.selectedDates.indexOf(s)===e.selectedDates.length-1?(t.classList.add(e.CSSClasses.daySelected),"multiple-ranged"===e.settings.selection.day?t.classList.add(e.CSSClasses.daySelectedLast):t.classList.add(e.CSSClasses.daySelected),l.classList.add(e.CSSClasses.dayBtnSelected)):e.selectedDates&&e.selectedDates.indexOf(s)>0&&"multiple-ranged"===e.settings.selection.day?(t.classList.add(e.CSSClasses.daySelectedIntermediate),l.classList.add(e.CSSClasses.dayBtnSelected),l.classList.add(e.CSSClasses.dayBtnIntermediate)):e.selectedDates&&e.selectedDates.indexOf(s)>0&&(t.classList.add(e.CSSClasses.daySelected),l.classList.add(e.CSSClasses.dayBtnSelected)),Array.isArray(e.rangeDisabled)&&e.rangeDisabled[0]&&e.rangeDisabled.forEach((t=>{t===s&&(l.classList.add(e.CSSClasses.dayBtnDisabled),l.tabIndex=-1)})),!e.settings.selection.month&&a&&(l.classList.add(e.CSSClasses.dayBtnDisabled),l.tabIndex=-1),e.settings.selection.year||new Date(`${s}T00:00:00`).getFullYear()===c||(l.classList.add(e.CSSClasses.dayBtnDisabled),l.tabIndex=-1)})(b,D,s,a,i),i?e.settings.visibility.daysOutside&&b.append(D):b.append(D),n[l].append(b),e.actions.getDays&&e.actions.getDays(Number(t),a,b,D)};(()=>{let t=new Date(c,o,0).getDate()-v,l=c,n=o;0===o?(n=e.locale.months.length,l=c-1):o<10&&(n=`0${o}`);for(let s=0;s<v;s++){t+=1;const s=`${l}-${n}-${t}`,a=new Date(c,o,t-1).getMonth()-1,i=new Date(c,a,t).getDay();y(String(t),i,s,!0,e.CSSClasses.dayBtnPrev)}})(),(()=>{for(let e=1;e<=g;e++){const t=new Date(c,o,e),l=i(t),n=t.getDay();y(String(e),n,l,!1,null)}})(),(()=>{const t=v+g,l=Math.ceil(t/e.locale.weekday.length),n=e.locale.weekday.length*l-t;let s=c,a=String(o+2);o+1===e.locale.months.length?(a="01",s=c+1):o+2<10&&(a=`0${o+2}`);for(let i=1;i<=n;i++){const t=`${s}-${a}-${i<10?`0${i}`:String(i)}`,l=new Date(c,o,i).getMonth()+1,n=new Date(c,l,i).getDay();y(String(i),n,t,!0,e.CSSClasses.dayBtnNext)}})(),((e,t)=>{e.popups&&Object.keys(e.popups).forEach((l=>{var n;const s=t.querySelector(`[data-calendar-day="${l}"]`);if(s){const t=null==(n=e.popups)?void 0:n[l];(null==t?void 0:t.modifier)&&t.modifier.trim().split(" ").forEach((e=>{s.classList.add(e)})),(null==t?void 0:t.html)&&(s.parentNode.innerHTML+=`<div class="${e.CSSClasses.dayPopup}">${t.html}</div>`)}}))})(e,n[l]),((e,t,l,n,s)=>{if(!e.settings.visibility.weekNumbers)return;const a=s.querySelectorAll(`.${e.CSSClasses.day}`);n.innerHTML="";const i=Math.ceil((t+l)/7),d=document.createElement("b");d.className=e.CSSClasses.weekNumbersTitle,d.innerText="#",n.append(d);const r=document.createElement("div");r.className=e.CSSClasses.weekNumbersContent,n.append(r);const o=document.createElement("span");o.className=e.CSSClasses.weekNumber;for(let c=0;c<i;c++){let t=null;t=0===c?a[6].querySelector(`.${e.CSSClasses.dayBtn}`):a[7*c].querySelector(`.${e.CSSClasses.dayBtn}`);const l=u(t.dataset.calendarDay,e.settings.iso8601);if(!l)return;const n=o.cloneNode(!0);n.innerText=`${l.week}`,n.dataset.calendarYearWeek=`${l.year}`,r.append(n)}})(e,v,g,s[l],n[l])})),null==(l=e.rangeDisabled)||l.sort(((e,t)=>+new Date(e)-+new Date(t)))},g=Object.freeze(Object.defineProperty({__proto__:null,ArrowNext:e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.arrow} ${e.CSSClasses.arrowNext}"\n\t\tdata-calendar-arrow="next">\n\t</button>\n`,ArrowPrev:e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.arrow} ${e.CSSClasses.arrowPrev}"\n\t\tdata-calendar-arrow="prev">\n\t</button>\n`,ControlTime:e=>e.settings.selection.time?`\n\t<div class="${e.CSSClasses.time}"></div>\n`:"",Days:e=>`\n\t<div class="${e.CSSClasses.days}"></div>\n`,Month:e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.month}"\n\t\tdata-calendar-selected-month>\n\t</button>\n`,Months:e=>`\n\t<div class="${e.CSSClasses.months}"></div>\n`,Week:e=>`\n\t<div class="${e.CSSClasses.week}"></div>\n`,WeekNumbers:e=>e.settings.visibility.weekNumbers?`\n\t<div class="${e.CSSClasses.weekNumbers}"></div>\n`:"",Year:e=>`\n\t<button type="button"\n\t\tclass="${e.CSSClasses.year}"\n\t\tdata-calendar-selected-year>\n\t</button>\n`,Years:e=>`\n\t<div class="${e.CSSClasses.years}"></div>\n`},Symbol.toStringTag,{value:"Module"})),v=(e,t)=>t.replace(/<#(.*?)\/>/g,((t,l)=>{const n=(s=l.replace(/[\s\n\t]/g,""),g[s]);var s;return n?n(e):""})).replace(/[\n\t]/g,""),y=(e,t)=>{const l=e.HTMLElement;l.classList.add(e.CSSClasses.calendar);const n=(l,n)=>{if(!t)return;const s=e.HTMLElement.querySelector(`.${e.CSSClasses.controls}`);s&&e.HTMLElement.removeChild(s);e.HTMLElement.querySelector(`.${e.CSSClasses.grid}`).classList.add(e.CSSClasses.gridDisabled);const a=t.closest(`.${e.CSSClasses.column}`);a.classList.add(l),a.innerHTML=v(e,n)};switch(e.currentType){case"default":l.classList.add(e.CSSClasses.calendarDefault),l.classList.remove(e.CSSClasses.calendarMonth),l.classList.remove(e.CSSClasses.calendarYear),l.innerHTML=v(e,e.DOMTemplates.default);break;case"multiple":if(!e.correctMonths)break;l.classList.add(e.CSSClasses.calendarMultiple),l.classList.remove(e.CSSClasses.calendarMonth),l.classList.remove(e.CSSClasses.calendarYear),l.innerHTML=((e,t)=>t.replace(/<#Multiple>(.*?)<#\/Multiple>/g,((t,l)=>{let n="";for(let s=0;s<e.correctMonths;s++)n+=l;return n})).replace(/[\n\t]/g,""))(e,v(e,e.DOMTemplates.multiple));break;case"month":if("multiple"===e.type){n(e.CSSClasses.columnMonth,e.DOMTemplates.month);break}l.classList.remove(e.CSSClasses.calendarDefault),l.classList.add(e.CSSClasses.calendarMonth),l.classList.remove(e.CSSClasses.calendarYear),l.innerHTML=v(e,e.DOMTemplates.month);break;case"year":if("multiple"===e.type){n(e.CSSClasses.columnYear,e.DOMTemplates.year);break}l.classList.remove(e.CSSClasses.calendarDefault),l.classList.remove(e.CSSClasses.calendarMonth),l.classList.add(e.CSSClasses.calendarYear),l.innerHTML=v(e,e.DOMTemplates.year)}},h=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-month]");if(!t[0]||void 0===e.selectedMonth)return;const l=new Date(e.selectedYear,e.selectedMonth,1);t.forEach(((n,s)=>{const a=new Date(l.setMonth(e.selectedMonth+s)).getMonth();t[s].dataset.calendarSelectedMonth=String(a),t[s].innerText=e.locale.months[a],!1===e.settings.selection.month||"only-arrows"===e.settings.selection.month?(t[s].tabIndex=-1,t[s].classList.add(e.CSSClasses.monthDisabled)):(t[s].tabIndex=0,t[s].classList.remove(e.CSSClasses.monthDisabled))}))},S=e=>{const t=e.HTMLElement.querySelectorAll("[data-calendar-selected-year]");if(!t||void 0===e.selectedMonth)return;const l=new Date(e.selectedYear,e.selectedMonth,1);t.forEach(((n,s)=>{const a=new Date(l.setFullYear(e.selectedYear,e.selectedMonth+s)).getFullYear();t[s].dataset.calendarSelectedYear=String(a),t[s].innerText=String(a),!1===e.settings.selection.year||"only-arrows"===e.settings.selection.year?(t[s].tabIndex=-1,t[s].classList.add(e.CSSClasses.yearDisabled)):(t[s].tabIndex=0,t[s].classList.remove(e.CSSClasses.yearDisabled))}))},M=(e,t)=>{var l;const n=(null==t?void 0:t.dataset.calendarSelectedMonth)?Number(t.dataset.calendarSelectedMonth):e.selectedMonth,s=null==(l=null==t?void 0:t.closest(`.${e.CSSClasses.column}`))?void 0:l.querySelector(`.${e.CSSClasses.year}`),a=s?Number(s.dataset.calendarSelectedYear):e.selectedYear;e.currentType="month",y(e,t),h(e),S(e);const i=e.HTMLElement.querySelector(`.${e.CSSClasses.months}`);if(!e.dateMin||!e.dateMax||!i)return;e.settings.selection.month&&i.classList.add(e.CSSClasses.monthsSelecting);const d=e.jumpMonths>1?e.locale.months.map(((t,l)=>n-e.jumpMonths*l)).concat(e.locale.months.map(((t,l)=>n+e.jumpMonths*l))).filter((e=>e>=0&&e<=12)):Array.from(Array(12).keys()),r=document.createElement("button");r.type="button",r.className=e.CSSClasses.monthsMonth;const o=()=>{if("multiple"!==e.type)return 0;const t=[...e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`)].findIndex((t=>t.classList.contains(`${e.CSSClasses.columnMonth}`)));return t>0?t:0};for(let c=0;c<e.locale.months.length;c++){const t=e.locale.months[c],l=r.cloneNode(!0);c===n&&l.classList.add(e.CSSClasses.monthsMonthSelected),(c<e.dateMin.getMonth()+o()&&a<=e.dateMin.getFullYear()||c>e.dateMax.getMonth()+o()&&a>=e.dateMax.getFullYear()||c!==n&&!d.includes(c))&&(l.classList.add(e.CSSClasses.monthsMonthDisabled),l.tabIndex=-1),l.dataset.calendarMonth=String(c),l.title=`${t}`,l.innerText=`${e.settings.visibility.monthShort?t.substring(0,3):t}`,i.append(l)}},p=e=>({hide(){e.HTMLElement.classList.add(e.CSSClasses.calendarHidden),e.actions.hideCalendar&&e.actions.hideCalendar(e.HTMLInputElement,e.HTMLElement)},show(){e.HTMLElement.classList.remove(e.CSSClasses.calendarHidden),e.actions.showCalendar&&e.actions.showCalendar(e.HTMLInputElement,e.HTMLElement)},HTMLInputElement:e.HTMLInputElement,HTMLElement:e.HTMLElement}),C=(e,t)=>e&&t?{0:{AM:"00",PM:"12"},1:{AM:"01",PM:"13"},2:{AM:"02",PM:"14"},3:{AM:"03",PM:"15"},4:{AM:"04",PM:"16"},5:{AM:"05",PM:"17"},6:{AM:"06",PM:"18"},7:{AM:"07",PM:"19"},8:{AM:"08",PM:"20"},9:{AM:"09",PM:"21"},10:{AM:"10",PM:"22"},11:{AM:"11",PM:"23"},12:{AM:"12",PM:"12"}}[Number(e)][t]:"",b=e=>{const t=e.HTMLElement.querySelector(`.${e.CSSClasses.time}`);if(!t)return;const l=!0===e.settings.selection.time?12:e.settings.selection.time,n="range"===e.settings.selection.controlTime;t.innerHTML=`\n\t<div class="${e.CSSClasses.timeContent}">\n\t\t<label class="${e.CSSClasses.timeHours}">\n\t\t\t<input type="text"\n\t\t\t\tname="hours"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedHours}"\n\t\t\t\t${n?"disabled":""}>\n\t\t</label>\n\t\t<label class="${e.CSSClasses.timeMinutes}">\n\t\t\t<input type="text"\n\t\t\t\tname="minutes"\n\t\t\t\tmaxlength="2"\n\t\t\t\tvalue="${e.selectedMinutes}"\n\t\t\t\t${n?"disabled":""}>\n\t\t</label>\n\t\t${12===l?`\n\t\t<button type="button"\n\t\t\tclass="${e.CSSClasses.timeKeeping}"\n\t\t\t${n?"disabled":""}>${e.selectedKeeping}</button>\n\t\t`:""}\n\t</div>\n\t<div class="${e.CSSClasses.timeRanges}">\n\t\t<label class="${e.CSSClasses.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="hours"\n\t\t\t\tmin="0"\n\t\t\t\tmax="23"\n\t\t\t\tstep="${e.settings.selection.stepHours}"\n\t\t\t\tvalue="${e.selectedKeeping?C(e.selectedHours,e.selectedKeeping):e.selectedHours}">\n\t\t</label>\n\t\t<label class="${e.CSSClasses.timeRange}">\n\t\t\t<input type="range"\n\t\t\t\tname="minutes"\n\t\t\t\tmin="0"\n\t\t\t\tmax="59"\n\t\t\t\tstep="${e.settings.selection.stepMinutes}"\n\t\t\t\tvalue="${e.selectedMinutes}">\n\t\t</label>\n\t</div>`,((e,t)=>{const l=e.HTMLElement.querySelector(`.${e.CSSClasses.timeRange} input[name="hours"]`),n=e.HTMLElement.querySelector(`.${e.CSSClasses.timeRange} input[name="minutes"]`),s=e.HTMLElement.querySelector(`.${e.CSSClasses.timeHours} input[name="hours"]`),a=e.HTMLElement.querySelector(`.${e.CSSClasses.timeMinutes} input[name="minutes"]`),i=e.HTMLElement.querySelector(`.${e.CSSClasses.timeKeeping}`),d=(t,l)=>{t.addEventListener("mouseover",(()=>l.classList.add(e.CSSClasses.isFocus)))},o=(t,l)=>{t.addEventListener("mouseout",(()=>l.classList.remove(e.CSSClasses.isFocus)))},c=(t,l,n)=>{"hours"===n?e.selectedHours=`${l}`:"minutes"===n&&(e.selectedMinutes=`${l}`),e.selectedTime=`${e.selectedHours}:${e.selectedMinutes}${e.selectedKeeping?` ${e.selectedKeeping}`:""}`,e.actions.changeTime&&e.actions.changeTime(t,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping),e.input&&e.HTMLInputElement&&e.actions.changeToInput&&e.actions.changeToInput(t,p(e),e.selectedDates,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping)},u=(t,l,n,s)=>{t.addEventListener("input",(t=>{let a=Number(t.target.value);a=a<10?`0${a}`:`${a}`,"hours"===n&&12===s?Number(t.target.value)<s&&Number(t.target.value)>0?(l.value=a,e.selectedKeeping="AM",i.innerText=e.selectedKeeping,c(t,a,n)):(0===Number(t.target.value)?(e.selectedKeeping="AM",i.innerText="AM"):(e.selectedKeeping="PM",i.innerText="PM"),l.value=r(t.target.value),c(t,r(t.target.value),n)):(l.value=a,c(t,a,n))}))},m=(t,l,n,s)=>{l.addEventListener("change",(l=>{const a=l.target;let d=Number(a.value);d=d<10?`0${d}`:`${d}`,"hours"===n&&12===s?a.value&&Number(a.value)<=s&&Number(a.value)>0?(a.value=d,t.value=C(d,e.selectedKeeping),c(l,d,n)):a.value&&Number(a.value)<24&&(Number(a.value)>s||0===Number(a.value))?(0===Number(a.value)?(e.selectedKeeping="AM",i.innerText="AM"):(e.selectedKeeping="PM",i.innerText="PM"),a.value=r(a.value),t.value=d,c(l,r(a.value),n)):a.value=e.selectedHours:a.value&&Number(a.value)<=s&&Number(a.value)>=0?(a.value=d,t.value=d,c(l,d,n)):"hours"===n?a.value=e.selectedHours:"minutes"===n&&(a.value=e.selectedMinutes)}))};d(l,s),d(n,a),o(l,s),o(n,a),u(l,s,"hours",24===t?23:12),u(n,a,"minutes",0),m(l,s,"hours",24===t?23:12),m(n,a,"minutes",59),i&&i.addEventListener("click",(t=>{i.innerText.includes("AM")?e.selectedKeeping="PM":e.selectedKeeping="AM",l.value=C(e.selectedHours,e.selectedKeeping),c(t,e.selectedHours,"hours"),i.innerText=e.selectedKeeping}))})(e,l)},D=e=>{const t=[...e.locale.weekday];if(!t[0])return;const l=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.week}`),n=document.createElement("b");n.className=e.CSSClasses.weekDay,e.settings.iso8601&&t.push(t.shift()),l.forEach((l=>{l.innerHTML="";for(let s=0;s<t.length;s++){const a=t[s],i=n.cloneNode(!0);e.settings.visibility.weekend&&e.settings.iso8601?5!==s&&6!==s||i.classList.add(e.CSSClasses.weekDayWeekend):e.settings.visibility.weekend&&!e.settings.iso8601&&(0!==s&&6!==s||i.classList.add(e.CSSClasses.weekDayWeekend)),i.innerText=`${a}`,l.append(i)}}))},T=(e,t)=>{if(void 0===e.viewYear||!e.dateMin||!e.dateMax)return;const l=(null==t?void 0:t.dataset.calendarSelectedYear)?Number(null==t?void 0:t.dataset.calendarSelectedYear):e.selectedYear;e.currentType="year",y(e,t),h(e),S(e),c(e);const n=e.HTMLElement.querySelector(`.${e.CSSClasses.years}`);if(!n)return;e.settings.selection.year&&n.classList.add(e.CSSClasses.yearsSelecting);const s=document.createElement("button");s.type="button",s.className=e.CSSClasses.yearsYear;for(let a=e.viewYear-7;a<e.viewYear+8;a++){const t=a,i=s.cloneNode(!0);t===l&&i.classList.add(e.CSSClasses.yearsYearSelected),(t<e.dateMin.getFullYear()+("multiple"!==e.type||e.selectedYear===l?0:1)||t>e.dateMax.getFullYear())&&(i.classList.add(e.CSSClasses.yearsYearDisabled),i.tabIndex=-1),i.dataset.calendarYear=String(t),i.innerText=`${t}`,n.append(i)}},w=["light","dark","system"];let f=!1;const L=(e,t)=>{var l;let n=null;for(let s=0;s<w.length;s++){if("system"===w[s])return;if(null==(l=e.getAttribute(t))?void 0:l.includes(w[s])){n=w[s];break}}return n},$=(e,t)=>{e.HTMLElement&&(w.includes(t)?e.HTMLElement.dataset.calendarTheme=t:console.error("Incorrect name of theme in settings.visibility.theme"))},H=(e,t)=>{if(!t)return void $(e,"light");const l=e=>e.matches?"dark":"light";e.HTMLElement.dataset.calendarTheme=l(t),f||(t.onchange=t=>{"system"===e.settings.visibility.theme&&(e.HTMLElement.dataset.calendarTheme=l(t))},f=!0)},E=(e,t)=>{if(!e.HTMLElement)return;const l=!!e.settings.visibility.themeDetect&&document.querySelector(e.settings.visibility.themeDetect);if(!l)return void H(e,t);const n=e.settings.visibility.themeDetect.replace(/^.*\[(.+)\]/g,((e,t)=>t)),s=l.hasAttribute(n);if(!n||!s)return void H(e,t);const a=L(l,n);a?($(e,a),((e,t,l)=>{new MutationObserver((n=>{for(let s=0;s<n.length;s++)if(n[s].attributeName===l){const n=L(t,l);n&&$(e,n);break}})).observe(t,{attributes:!0})})(e,l,n)):H(e,t)},k=e=>{const t={default(){D(e),m(e)},multiple(){D(e),m(e)},month(){M(e)},year(){T(e)}};(e=>{if(!e.HTMLElement)return;let t;"not all"!==window.matchMedia("(prefers-color-scheme)").media&&(t=window.matchMedia("(prefers-color-scheme: dark)")),"system"===e.settings.visibility.theme?E(e,t):$(e,e.settings.visibility.theme)})(e),(e=>{if("define"!==e.settings.lang){e.locale.weekday=[];for(let t=0;t<7;t++){let l=new Date(0,0,t).toLocaleString(e.settings.lang,{weekday:"short"});l=`${l.charAt(0).toUpperCase()}${l.substring(1,l.length)}`,l=l.replace(/\./,""),e.locale.weekday.push(l)}e.locale.months=[];for(let t=0;t<12;t++){let l=new Date(0,t).toLocaleString(e.settings.lang,{month:"long"});l=`${l.charAt(0).toUpperCase()}${l.substring(1,l.length)}`,l=l.replace(/\./,""),e.locale.months.push(l)}}})(e),y(e),h(e),S(e),c(e),b(e),t[e.currentType]()},Y=e=>{o(e),k(e)},x=(e,t,l,n,s)=>{const a=e.HTMLElement.querySelectorAll(`.${e.CSSClasses.column}`),i=[...a].findIndex((e=>e.classList.contains(t))),d=Number(a[i].querySelector(`.${l}`).getAttribute(s));return"month"===e.currentType&&i>=0?n-i:"year"===e.currentType&&e.selectedYear!==d?n-1:n},_=(e,t)=>{const{selectedMonth:l,selectedYear:n,jumpMonths:s}=e;if(void 0===l||void 0===n)return;const a=new Date(`${i(new Date(n,l,1))}T00:00:00`);({prev:()=>a.setMonth(a.getMonth()-s),next:()=>a.setMonth(a.getMonth()+s)})[t](),[e.selectedMonth,e.selectedYear]=[a.getMonth(),a.getFullYear()],h(e),S(e),c(e),m(e)};let N=null;const A=()=>{var e;if(!N)return;const t=null==(e=N.HTMLElement)?void 0:e.querySelectorAll(`.${N.CSSClasses.dayBtnHover}`);t&&t.forEach((e=>e.classList.remove(N.CSSClasses.dayBtnHover)))},F=e=>{var t;if(!N||!N.selectedDates)return;const l=i(e);if(N.rangeDisabled&&N.rangeDisabled.includes(l))return;const n=null==(t=N.HTMLElement)?void 0:t.querySelectorAll(`[data-calendar-day="${l}"]`);null==n||n.forEach((e=>{e.classList.add(N.CSSClasses.dayBtnHover)}))},P=e=>{if(!e.target||!N||!N.selectedDates)return;if(!e.target.closest(`.${N.CSSClasses.days}`))return void A();const t=e.target.dataset.calendarDay;if(!t)return;A();const l=new Date(new Date(`${N.selectedDates[0]}T00:00:00`).getFullYear(),new Date(`${N.selectedDates[0]}T00:00:00`).getMonth(),new Date(`${N.selectedDates[0]}T00:00:00`).getDate()),n=new Date(new Date(`${t}T00:00:00`).getFullYear(),new Date(`${t}T00:00:00`).getMonth(),new Date(`${t}T00:00:00`).getDate());if(n>l)for(let s=l;s<=n;s.setDate(s.getDate()+1))F(s);else for(let s=l;s>=n;s.setDate(s.getDate()-1))F(s)},I=e=>{N&&"Escape"===e.key&&(N.selectedDates=[],N.HTMLElement.removeEventListener("mousemove",P),document.removeEventListener("keydown",I),k(N))},O=(e,t)=>{var l,n;if(!e||!e.selectedDates||!t.dataset.calendarDay)return;const s=t.dataset.calendarDay,a=1===e.selectedDates.length&&e.selectedDates[0].includes(t.dataset.calendarDay);if(e.selectedDates=a?[]:e.selectedDates.length>1?[s]:[...e.selectedDates,s],null==(l=e.selectedDates)?void 0:l[1]){const[t,l]=e.selectedDates.map((e=>new Date(`${e}T00:00:00`))),s=l>t?1:-1;e.selectedDates=[];for(let a=new Date(t);l>t?a<=l:a>=l;a.setDate(a.getDate()+s)){const t=i(a);if(null==(n=e.rangeDisabled)?void 0:n.includes(t))return;e.selectedDates=e.selectedDates?[...e.selectedDates,t]:[t]}}N=e,e.selectedDates[0]&&e.selectedDates.length<=1?(e.HTMLElement.addEventListener("mousemove",P),document.addEventListener("keydown",I),e.settings.range.disableGaps&&(()=>{var e;if(!N||!(null==(e=N.selectedDates)?void 0:e[0])||!N.rangeDisabled||N.rangeDisabled.length<2)return;const t=new Date(`${N.selectedDates[0]}T00:00:00`);let l=null,n=null;for(let s=0;s<N.rangeDisabled.length;s++){const e=new Date(`${N.rangeDisabled[s]}T00:00:00`);if(!(t>=e)){n=e;break}l=e}l&&(l=new Date(l.setDate(l.getDate()+1)),N.rangeMin=i(l)),n&&(n=new Date(n.setDate(n.getDate()-1)),N.rangeMax=i(n))})()):(e.HTMLElement.removeEventListener("mousemove",P),document.removeEventListener("keydown",I),e.settings.range.disableGaps&&N&&(N.rangeMin=N.settings.range.min,N.rangeMax=N.settings.range.max,N.settings.range.disablePast&&new Date(`${N.settings.range.min}T00:00:00`)<N.date.today&&(N.rangeMin=i(N.date.today))))},B=(e,t,l)=>{if(!e.selectedDates||!t.dataset.calendarDay)return;const n=t.dataset.calendarDay,s=t.classList.contains(e.CSSClasses.dayBtnSelected);e.selectedDates=s?e.selectedDates.filter((e=>e!==n)):l?[...e.selectedDates,n]:[n]},q=e=>{e.HTMLElement.addEventListener("click",(t=>{const l=t.target,n=e=>l.closest(`.${e}`),s=n(e.CSSClasses.arrow),a=n(e.CSSClasses.arrowPrev),i=n(e.CSSClasses.arrowNext),d=n(e.CSSClasses.weekNumber),r=n(e.CSSClasses.year),o=n(e.CSSClasses.yearsYear),c=n(e.CSSClasses.month),u=n(e.CSSClasses.monthsMonth),g=n(e.CSSClasses.grid),v=n(e.CSSClasses.column);s&&("year"!==e.currentType&&"month"!==e.currentType&&_(e,l.dataset.calendarArrow),e.actions.clickArrow&&e.actions.clickArrow(t,Number(e.selectedYear),Number(e.selectedMonth))),((e,t)=>{const l=t.target,n=e=>l.closest(`.${e}`),s=n(e.CSSClasses.dayBtn);if(!e.settings.selection.day||!["single","multiple","multiple-ranged"].includes(e.settings.selection.day)||!s)return;({single:()=>B(e,s,!1),multiple:()=>B(e,s,!1),"multiple-ranged":()=>O(e,s)})[e.settings.selection.day](),e.actions.clickDay&&e.actions.clickDay(t,e.selectedDates),e.input&&e.HTMLInputElement&&e.HTMLElement&&e.actions.changeToInput&&e.actions.changeToInput(t,p(e),e.selectedDates,e.selectedTime,e.selectedHours,e.selectedMinutes,e.selectedKeeping);const a=n(e.CSSClasses.dayBtnPrev),i=n(e.CSSClasses.dayBtnNext);({prev:()=>_(e,"prev"),next:()=>_(e,"next"),default:()=>m(e)})[a?"prev":i?"next":"default"]()})(e,t),(()=>{var l;if(!e.settings.visibility.weekNumbers||!d||!e.actions.clickWeekNumber)return;const n=null==(l=e.HTMLElement)?void 0:l.querySelectorAll("[data-calendar-week-number]");if(!n)return;const s=Number(d.innerText),a=Number(d.dataset.calendarYearWeek),i=[...n].filter((e=>Number(e.dataset.calendarWeekNumber)===s));e.actions.clickWeekNumber(t,s,i,a)})(),(()=>{if(e.settings.selection.year)if(s&&"year"===e.currentType){if(void 0===e.viewYear)return;i?e.viewYear+=15:a&&(e.viewYear-=15),T(e,t.target)}else if("year"!==e.currentType&&r)T(e,t.target);else if("year"===e.currentType&&r)e.currentType=e.type,k(e);else if(o){if(void 0===e.selectedMonth||!e.dateMin||!e.dateMax)return;e.selectedYear="multiple"===e.type?x(e,e.CSSClasses.columnYear,e.CSSClasses.year,Number(o.dataset.calendarYear),"data-calendar-selected-year"):Number(o.dataset.calendarYear),e.currentType=e.type,(e.selectedMonth<e.dateMin.getMonth()&&e.selectedYear<=e.dateMin.getFullYear()||e.selectedYear<e.dateMin.getFullYear())&&(e.selectedMonth=e.dateMin.getMonth(),e.selectedYear=e.dateMin.getFullYear()),(e.selectedMonth>e.dateMax.getMonth()&&e.selectedYear>=e.dateMax.getFullYear()||e.selectedYear>e.dateMax.getFullYear())&&(e.selectedMonth=e.dateMax.getMonth(),e.selectedYear=e.dateMax.getFullYear()),e.actions.clickYear&&e.actions.clickYear(t,e.selectedYear),k(e)}else"multiple"===e.type&&"year"===e.currentType&&g&&!v&&(e.currentType=e.type,k(e))})(),(()=>{if(e.settings.selection.month)if("month"!==e.currentType&&c)M(e,t.target);else if("month"===e.currentType&&c)e.currentType=e.type,k(e);else if(u){if(void 0===e.selectedMonth||!e.dateMin||!e.dateMax)return;if(e.selectedMonth="multiple"===e.type?x(e,e.CSSClasses.columnMonth,e.CSSClasses.month,Number(u.dataset.calendarMonth),"data-calendar-selected-month"):Number(u.dataset.calendarMonth),"multiple"===e.type){const t=u.closest(`.${e.CSSClasses.columnMonth}`).querySelector(`.${e.CSSClasses.year}`);e.selectedYear=Number(t.dataset.calendarSelectedYear),e.selectedMonth<e.dateMin.getMonth()&&e.selectedYear<=e.dateMin.getFullYear()&&(e.selectedMonth=e.dateMin.getMonth()),e.selectedMonth>e.dateMax.getMonth()&&e.selectedYear>=e.dateMax.getFullYear()&&(e.selectedMonth=e.dateMax.getMonth())}e.currentType=e.type,e.actions.clickMonth&&e.actions.clickMonth(t,e.selectedMonth),k(e)}else"multiple"===e.type&&"month"===e.currentType&&g&&!v&&(e.currentType=e.type,k(e))})()}))},K=(e,t)=>{let l=e.offsetHeight,n=0;for(let s=e;s;s=s.offsetParent)l+=s.offsetTop||0,n+=s.offsetLeft||0;Object.assign(t.style,{left:`${n}px`,top:`${l}px`})},W=e=>{if(!e)return;e.HTMLInputElement=e.HTMLElement,e.HTMLElement=null;const t=l=>{var n;e&&l.target!==e.HTMLInputElement&&!(null==(n=e.HTMLElement)?void 0:n.contains(l.target))&&(p(e).hide(),document.removeEventListener("click",t,{capture:!0}))};e.HTMLInputElement.addEventListener("click",(()=>{e.HTMLElement?(K(e.HTMLInputElement,e.HTMLElement),p(e).show()):(()=>{if(!e.HTMLInputElement)return;const t=document.createElement("div");t.className=`${e.CSSClasses.calendar} ${e.CSSClasses.calendarToInput} ${e.CSSClasses.calendarHidden}`,K(e.HTMLInputElement,t),e.HTMLElement=t,document.body.append(e.HTMLElement),setTimeout((()=>p(e).show()),0),Y(e),q(e)})(),document.addEventListener("click",t,{capture:!0})}))},j=e=>`\n\t<div class="${e.controls}">\n\t\t<#ArrowPrev />\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${e.grid}">\n\t\t<#Multiple>\n\t\t\t<div class="${e.column}">\n\t\t\t\t<div class="${e.header}">\n\t\t\t\t\t<div class="${e.headerContent}">\n\t\t\t\t\t\t<#Month />\n\t\t\t\t\t\t<#Year />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t\t<div class="${e.wrapper}">\n\t\t\t\t\t<#WeekNumbers />\n\t\t\t\t\t<div class="${e.content}">\n\t\t\t\t\t\t<#Week />\n\t\t\t\t\t\t<#Days />\n\t\t\t\t\t</div>\n\t\t\t\t</div>\n\t\t\t</div>\n\t\t<#/Multiple>\n\t</div>\n\t<#ControlTime />\n`,R=e=>`\n\t<div class="${e.header}">\n\t\t<div class="${e.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t</div>\n\t<div class="${e.wrapper}">\n\t\t<div class="${e.content}">\n\t\t\t<#Months />\n\t\t</div>\n\t</div>\n`,G=e=>`\n\t<div class="${e.header}">\n\t\t<#ArrowPrev />\n\t\t<div class="${e.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${e.wrapper}">\n\t\t<div class="${e.content}">\n\t\t\t<#Years />\n\t\t</div>\n\t</div>\n`,z={calendar:"vanilla-calendar",calendarDefault:"vanilla-calendar_default",calendarMultiple:"vanilla-calendar_multiple",calendarMonth:"vanilla-calendar_month",calendarYear:"vanilla-calendar_year",calendarHidden:"vanilla-calendar_hidden",calendarToInput:"vanilla-calendar_to-input",controls:"vanilla-calendar-controls",grid:"vanilla-calendar-grid",gridDisabled:"vanilla-calendar-grid_disabled",column:"vanilla-calendar-column",columnMonth:"vanilla-calendar-column_month",columnYear:"vanilla-calendar-column_year",header:"vanilla-calendar-header",headerContent:"vanilla-calendar-header__content",month:"vanilla-calendar-month",monthDisabled:"vanilla-calendar-month_disabled",year:"vanilla-calendar-year",yearDisabled:"vanilla-calendar-year_disabled",arrow:"vanilla-calendar-arrow",arrowPrev:"vanilla-calendar-arrow_prev",arrowNext:"vanilla-calendar-arrow_next",wrapper:"vanilla-calendar-wrapper",content:"vanilla-calendar-content",week:"vanilla-calendar-week",weekDay:"vanilla-calendar-week__day",weekDayWeekend:"vanilla-calendar-week__day_weekend",days:"vanilla-calendar-days",daysSelecting:"vanilla-calendar-days_selecting",months:"vanilla-calendar-months",monthsSelecting:"vanilla-calendar-months_selecting",monthsMonth:"vanilla-calendar-months__month",monthsMonthSelected:"vanilla-calendar-months__month_selected",monthsMonthDisabled:"vanilla-calendar-months__month_disabled",years:"vanilla-calendar-years",yearsSelecting:"vanilla-calendar-years_selecting",yearsYear:"vanilla-calendar-years__year",yearsYearSelected:"vanilla-calendar-years__year_selected",yearsYearDisabled:"vanilla-calendar-years__year_disabled",time:"vanilla-calendar-time",timeContent:"vanilla-calendar-time__content",timeHours:"vanilla-calendar-time__hours",timeMinutes:"vanilla-calendar-time__minutes",timeKeeping:"vanilla-calendar-time__keeping",timeRanges:"vanilla-calendar-time__ranges",timeRange:"vanilla-calendar-time__range",day:"vanilla-calendar-day",daySelected:"vanilla-calendar-day_selected",daySelectedFirst:"vanilla-calendar-day_selected-first",daySelectedLast:"vanilla-calendar-day_selected-last",daySelectedIntermediate:"vanilla-calendar-day_selected-intermediate",dayPopup:"vanilla-calendar-day__popup",dayBtn:"vanilla-calendar-day__btn",dayBtnPrev:"vanilla-calendar-day__btn_prev",dayBtnNext:"vanilla-calendar-day__btn_next",dayBtnToday:"vanilla-calendar-day__btn_today",dayBtnSelected:"vanilla-calendar-day__btn_selected",dayBtnHover:"vanilla-calendar-day__btn_hover",dayBtnDisabled:"vanilla-calendar-day__btn_disabled",dayBtnIntermediate:"vanilla-calendar-day__btn_intermediate",dayBtnWeekend:"vanilla-calendar-day__btn_weekend",dayBtnHoliday:"vanilla-calendar-day__btn_holiday",weekNumbers:"vanilla-calendar-week-numbers",weekNumbersTitle:"vanilla-calendar-week-numbers__title",weekNumbersContent:"vanilla-calendar-week-numbers__content",weekNumber:"vanilla-calendar-week-number",isFocus:"vanilla-calendar-is-focus"};return class{constructor(e,i){var d,r,c,u,m,g,v,y,h,S,M,p,C,b,D,T,w,f,L,$,H,E,x,_,N,A,F,P,I,O,B,K,U,V,J,Q,X,Z,ee,te,le,ne,se,ae,ie,de,re,oe,ce,ue,me,ge,ve,ye,he,Se,Me,pe,Ce,be,De,Te,we,fe,Le,$e,He,Ee,ke,Ye,xe,_e,Ne,Ae,Fe,Pe,Ie,Oe,Be,qe,Ke,We,je,Re,Ge,ze,Ue,Ve,Je,Qe,Xe,Ze,et,tt,lt,nt,st,at,it,dt,rt,ot,ct,ut,mt,gt,vt,yt,ht,St,Mt,pt,Ct,bt,Dt,Tt,wt,ft,Lt,$t,Ht,Et,kt,Yt,xt,_t,Nt,At,Ft,Pt,It,Ot;(a(this,"HTMLElement"),a(this,"input"),a(this,"type"),a(this,"months"),a(this,"jumpMonths"),a(this,"date"),a(this,"settings"),a(this,"locale"),a(this,"actions"),a(this,"popups"),a(this,"CSSClasses"),a(this,"DOMTemplates"),a(this,"currentType"),a(this,"reset",(()=>Y(this))),a(this,"update",(()=>(e=>{var t;let l=null,n=null,s=null;(null==(t=e.settings.selected.dates)?void 0:t[0])||(l=e.settings.selected.dates,e.settings.selected.dates=e.selectedDates),e.settings.selected.month||(n=e.settings.selected.month,e.settings.selected.month=e.selectedMonth),e.settings.selected.year||(s=e.settings.selected.year,e.settings.selected.year=e.selectedYear),o(e),k(e),e.settings.selected.dates=l,e.settings.selected.month=n,e.settings.selected.year=s})(this))),a(this,"init",(()=>{var e;(e=this).HTMLElement&&(e.HTMLOriginalElement=e.HTMLElement.cloneNode(!0),e.input?W(e):(Y(e),q(e)))})),a(this,"destroy",(()=>(e=>{var t,l,n,s;e.HTMLOriginalElement&&(e.input?(null==(t=e.HTMLInputElement)||t.replaceWith(e.HTMLOriginalElement),null==(n=null==(l=e.HTMLElement)?void 0:l.parentNode)||n.removeChild(e.HTMLElement)):null==(s=e.HTMLElement)||s.replaceWith(e.HTMLOriginalElement),e.HTMLElement=e.HTMLOriginalElement)})(this))),this.HTMLElement="string"==typeof e?document.querySelector(e):e,this.HTMLElement)&&(this.input=null!=(d=null==i?void 0:i.input)&&d,this.type=null!=(r=null==i?void 0:i.type)?r:"default",this.months=null!=(c=null==i?void 0:i.months)?c:2,this.jumpMonths=null!=(u=null==i?void 0:i.jumpMonths)?u:1,this.date={min:null!=(g=null==(m=null==i?void 0:i.date)?void 0:m.min)?g:"1970-01-01",max:null!=(y=null==(v=null==i?void 0:i.date)?void 0:v.max)?y:"2470-12-31",today:null!=(S=null==(h=null==i?void 0:i.date)?void 0:h.today)?S:new Date},this.settings={lang:null!=(p=null==(M=null==i?void 0:i.settings)?void 0:M.lang)?p:"en",iso8601:null==(b=null==(C=null==i?void 0:i.settings)?void 0:C.iso8601)||b,range:{min:null!=(w=null==(T=null==(D=null==i?void 0:i.settings)?void 0:D.range)?void 0:T.min)?w:this.date.min,max:null!=($=null==(L=null==(f=null==i?void 0:i.settings)?void 0:f.range)?void 0:L.max)?$:this.date.max,disablePast:null!=(x=null==(E=null==(H=null==i?void 0:i.settings)?void 0:H.range)?void 0:E.disablePast)&&x,disableGaps:null!=(A=null==(N=null==(_=null==i?void 0:i.settings)?void 0:_.range)?void 0:N.disableGaps)&&A,disableAllDays:null!=(I=null==(P=null==(F=null==i?void 0:i.settings)?void 0:F.range)?void 0:P.disableAllDays)&&I,disableWeekday:null!=(K=null==(B=null==(O=null==i?void 0:i.settings)?void 0:O.range)?void 0:B.disableWeekday)?K:null,disabled:null!=(J=null==(V=null==(U=null==i?void 0:i.settings)?void 0:U.range)?void 0:V.disabled)?J:null,enabled:null!=(Z=null==(X=null==(Q=null==i?void 0:i.settings)?void 0:Q.range)?void 0:X.enabled)?Z:null},selection:{day:null!=(le=null==(te=null==(ee=null==i?void 0:i.settings)?void 0:ee.selection)?void 0:te.day)?le:"single",month:null==(ae=null==(se=null==(ne=null==i?void 0:i.settings)?void 0:ne.selection)?void 0:se.month)||ae,year:null==(re=null==(de=null==(ie=null==i?void 0:i.settings)?void 0:ie.selection)?void 0:de.year)||re,time:null!=(ue=null==(ce=null==(oe=null==i?void 0:i.settings)?void 0:oe.selection)?void 0:ce.time)&&ue,controlTime:null!=(ve=null==(ge=null==(me=null==i?void 0:i.settings)?void 0:me.selection)?void 0:ge.controlTime)?ve:"all",stepHours:null!=(Se=null==(he=null==(ye=null==i?void 0:i.settings)?void 0:ye.selection)?void 0:he.stepHours)?Se:1,stepMinutes:null!=(Ce=null==(pe=null==(Me=null==i?void 0:i.settings)?void 0:Me.selection)?void 0:pe.stepMinutes)?Ce:1},selected:{dates:null!=(Te=null==(De=null==(be=null==i?void 0:i.settings)?void 0:be.selected)?void 0:De.dates)?Te:null,month:null!=(Le=null==(fe=null==(we=null==i?void 0:i.settings)?void 0:we.selected)?void 0:fe.month)?Le:null,year:null!=(Ee=null==(He=null==($e=null==i?void 0:i.settings)?void 0:$e.selected)?void 0:He.year)?Ee:null,holidays:null!=(xe=null==(Ye=null==(ke=null==i?void 0:i.settings)?void 0:ke.selected)?void 0:Ye.holidays)?xe:null,time:null!=(Ae=null==(Ne=null==(_e=null==i?void 0:i.settings)?void 0:_e.selected)?void 0:Ne.time)?Ae:null},visibility:{theme:null!=(Ie=null==(Pe=null==(Fe=null==i?void 0:i.settings)?void 0:Fe.visibility)?void 0:Pe.theme)?Ie:"system",themeDetect:null!=(qe=null==(Be=null==(Oe=null==i?void 0:i.settings)?void 0:Oe.visibility)?void 0:Be.themeDetect)?qe:"html[data-theme]",monthShort:null==(je=null==(We=null==(Ke=null==i?void 0:i.settings)?void 0:Ke.visibility)?void 0:We.monthShort)||je,weekNumbers:null!=(ze=null==(Ge=null==(Re=null==i?void 0:i.settings)?void 0:Re.visibility)?void 0:Ge.weekNumbers)&&ze,weekend:null==(Je=null==(Ve=null==(Ue=null==i?void 0:i.settings)?void 0:Ue.visibility)?void 0:Ve.weekend)||Je,today:null==(Ze=null==(Xe=null==(Qe=null==i?void 0:i.settings)?void 0:Qe.visibility)?void 0:Xe.today)||Ze,disabled:null!=(lt=null==(tt=null==(et=null==i?void 0:i.settings)?void 0:et.visibility)?void 0:tt.disabled)&&lt,daysOutside:null==(at=null==(st=null==(nt=null==i?void 0:i.settings)?void 0:nt.visibility)?void 0:st.daysOutside)||at}},this.locale={months:null!=(dt=null==(it=null==i?void 0:i.locale)?void 0:it.months)?dt:[],weekday:null!=(ot=null==(rt=null==i?void 0:i.locale)?void 0:rt.weekday)?ot:[]},this.actions={clickDay:null!=(ut=null==(ct=null==i?void 0:i.actions)?void 0:ct.clickDay)?ut:null,clickWeekNumber:null!=(gt=null==(mt=null==i?void 0:i.actions)?void 0:mt.clickWeekNumber)?gt:null,clickMonth:null!=(yt=null==(vt=null==i?void 0:i.actions)?void 0:vt.clickMonth)?yt:null,clickYear:null!=(St=null==(ht=null==i?void 0:i.actions)?void 0:ht.clickYear)?St:null,clickArrow:null!=(pt=null==(Mt=null==i?void 0:i.actions)?void 0:Mt.clickArrow)?pt:null,changeTime:null!=(bt=null==(Ct=null==i?void 0:i.actions)?void 0:Ct.changeTime)?bt:null,changeToInput:null!=(Tt=null==(Dt=null==i?void 0:i.actions)?void 0:Dt.changeToInput)?Tt:null,getDays:null!=(ft=null==(wt=null==i?void 0:i.actions)?void 0:wt.getDays)?ft:null,hideCalendar:null!=($t=null==(Lt=null==i?void 0:i.actions)?void 0:Lt.hideCalendar)?$t:null,showCalendar:null!=(Et=null==(Ht=null==i?void 0:i.actions)?void 0:Ht.showCalendar)?Et:null},this.popups=null!=(kt=null==i?void 0:i.popups)?kt:null,this.CSSClasses=(()=>{const e=((e,a)=>{for(var i in a||(a={}))l.call(a,i)&&s(e,i,a[i]);if(t)for(var i of t(a))n.call(a,i)&&s(e,i,a[i]);return e})({},z);return Object.keys(z).forEach((t=>{var l;(null==(l=null==i?void 0:i.CSSClasses)?void 0:l[t])?e[t]=i.CSSClasses[t]:e[t]=z[t]})),e})(),this.DOMTemplates={default:null!=(xt=null==(Yt=null==i?void 0:i.DOMTemplates)?void 0:Yt.default)?xt:(Ot=this.CSSClasses,`\n\t<div class="${Ot.header}">\n\t\t<#ArrowPrev />\n\t\t<div class="${Ot.headerContent}">\n\t\t\t<#Month />\n\t\t\t<#Year />\n\t\t</div>\n\t\t<#ArrowNext />\n\t</div>\n\t<div class="${Ot.wrapper}">\n\t\t<#WeekNumbers />\n\t\t<div class="${Ot.content}">\n\t\t\t<#Week />\n\t\t\t<#Days />\n\t\t</div>\n\t</div>\n\t<#ControlTime />\n`),multiple:null!=(Nt=null==(_t=null==i?void 0:i.DOMTemplates)?void 0:_t.multiple)?Nt:j(this.CSSClasses),month:null!=(Ft=null==(At=null==i?void 0:i.DOMTemplates)?void 0:At.month)?Ft:R(this.CSSClasses),year:null!=(It=null==(Pt=null==i?void 0:i.DOMTemplates)?void 0:Pt.year)?It:G(this.CSSClasses)},this.currentType=this.type)}}}));
